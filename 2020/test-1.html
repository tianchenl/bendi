<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<!--<link rel="stylesheet" type="text/css" href="test-1-nav.css">-->
	<link rel="stylesheet" type="text/css" href="test-1-move-nav.css">
  <link rel="stylesheet" type="text/css" href="test-3.css">
  <link rel="stylesheet" type="text/css" href="./icomoon/style.css">
</head>
<body>
	<nav>
	<div class="menu-btn">
		<a href="javascript:void(0)" class="menu-btn-icon icon icon-cross"></a>
	</div>
    <ul class="nav-container-list flex-enable flex-row flex-justify-space-around">
    	<li class="nav-list-item"><a href="">Item1</a>
              <ul class="nav-submenu-list">
           	  <li class="nav-submenu-item"><a href="">SubItem1</a></li>
           	  <li class="nav-submenu-item"><a href="">SubItem2</a></li>
           	  <li class="nav-submenu-item"><a href="">SubItem3</a></li>
           	  <li class="nav-submenu-item"><a href="">SubItem4</a></li>
              </ul>
    	</li>
    	<li class="nav-list-item"><a href="">Item2 item2</a>
              <ul class="nav-submenu-list">
           	  <li class="nav-submenu-item"><a href="">SubItem1</a></li>
           	  <li class="nav-submenu-item"><a href="">SubItem2</a></li>
           	  <li class="nav-submenu-item"><a href="">SubItem3</a></li>
           	  <li class="nav-submenu-item"><a href="">SubItem4</a></li>
              </ul>
    	</li>
    	<li class="nav-list-item"><a href="">Item3 item</a>
              <ul class="nav-submenu-list">
           	  <li class="nav-submenu-item"><a href="">SubItem1</a></li>
           	  <li class="nav-submenu-item"><a href="">SubItem2</a></li>
           	  <li class="nav-submenu-item"><a href="">SubItem3</a></li>
           	  <li class="nav-submenu-item"><a href="">SubItem4</a></li>
              </ul>
    	</li>
    	<li class="nav-list-item"><a href="">Item4</a>
              <ul class="nav-submenu-list">
           	  <li class="nav-submenu-item"><a href="">SubItem1</a></li>
           	  <li class="nav-submenu-item"><a href="">SubItem2</a></li>
           	  <li class="nav-submenu-item"><a href="">SubItem3</a></li>
           	  <li class="nav-submenu-item"><a href="">SubItem4</a></li>
              </ul>
    	</li>
    </ul>
	</nav>
  <header>
  <div class="header-text-container">
    <h1 class="header-article_title">巨大的标题</h1>
    <time class="header-atricle_pub">2015年3月10日</time>
  </div>
  </header>
  <article>
　　我深深怀念在榕树下度过的愉快的夏夜。有人卷一条被单，睡在光滑的石板上；有人搬几块床板，一头搁着长凳，一头就搁在桥栏杆上，铺一张草席躺下。我喜欢跟大人们一起挤在那里睡，仰望头上黑黝黝的榕树的影子，在神秘而恬静的气氛中，用心灵与天上微笑的星星交流。要是有月亮的夜晚，如水的月华给山野披上一层透明的轻纱，将一切都变得不很真实，似梦境，似仙境。在睡意朦胧中，有嫦娥驾一片白云悄悄飞过，有桂花的清香自榕树枝头轻轻洒下来。而桥下的流水静静地唱着甜蜜的摇篮曲，催人在夜风温馨的抚摸中慢慢沉入梦乡……有时早上醒来，清露润湿了头发，感到凉飕飕的寒意，才发觉枕头不见了，探头往桥下一看，原来是掉到溪里，吸饱了水，涨鼓鼓的，搁浅在乱石滩上……
  </article>
</body>
<script type="text/javascript">
	var btn = document.querySelector('.menu-btn-icon');
	var menu = document.querySelector('.nav-container-list');
	var menuIsCollapse = false;

	btn.onclick = function () {
		menuIsCollapse = !menuIsCollapse;
		if (menuIsCollapse) {
			menu.style.display = 'none';
			btn.classList.remove('icon-cross');
			btn.classList.add('icon-menu');
		}
		else {
			menu.style.display = 'block';
			btn.classList.remove('icon-menu');
			btn.classList.add('icon-cross');
		}
	}

  if (window.matchMedia) {
    var mql = window.matchMedia("(min-width: 480px)");
    mql.addListener(mediaChangeHandler);
    mediaChangeHandler(mql);
  }else {
    window.addEventListener('resize', function(){
      var innerWidth = window.innerWidth
                   || document.documentElement.clientWidth
                   || document.body.clientWidth;
      mediaChangeHandler(
        innerWidth >= 480
            ? {matches: true}
            : {matches: false})
      
    }, false);
  }
  function mediaChangeHandler(mql) {
    if (mql.matches) {
      menu.style.display = '';
    }
    else {
      if (menuIsCollapse) {
        menu.style.display = 'none';
      }else {
        menu.style.display = '';
      }
    }
  }
  var mql = window.matchMedia("(min-width: 480px)");
  mql.addListener(mediaChangeHandler);
  mediaChangeHandler(mql);
</script>
</html>
